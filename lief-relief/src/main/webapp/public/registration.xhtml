<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE html>
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
  xmlns:h="http://xmlns.jcp.org/jsf/html"
  xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
  xmlns:p="http://primefaces.org/ui"
  xmlns:f="http://xmlns.jcp.org/jsf/core"
  template="/templates/index.xhtml">
    <ui:define name="content">
        <style>

            .custom-file-upload {
                border-radius: 10px;
                color: #f56a6a;
                text-align: center;
                vertical-align: middle;
                width: 100%;
                border: 3px solid #f56a6a;
                display: inline-block;
                padding-top: 35%;
                padding-bottom: 35%;
                cursor: pointer;
            }

            .ui-messages-error {
                all: unset !important;
            }
            .ui-messages-error-icon{
                all: unset !important;
            }

            .ui-messages-error-summary{
                all: unset !important;
            }

            .error{
                background-color: #f56a6a !important;
                padding: 0;
                margin-top: 3em !important;
                margin-bottom: 1em !important;
                color: white !important;
                display: inline-flex !important;
                border-radius: 15px !important;
                font-size: 1.1em !important;
                font-family: 'Roboto Slab', serif !important;
                list-style: inside;

                ul li{
                    list-style: inside;
                    padding: 0;
                }
            } 
        </style>
        <section>
            <header class="main">
                <h1>Leaf Relief</h1>
            </header>

            <hr class="major" />

            <h:form>
                <p:messages id="msg" class="error" />
                <div class="row gtr-uniform">
                    <div class="col-6 col-12-xsmall">
                        <p:inputText id="login" value="#{registrationBB.login}" placeholder="Login*" required="true" 
                                     requiredMessage="Brak loginu">
                        </p:inputText>
                    </div>
                    <div class="col-6 col-12-xsmall">
                        <p:password id="password" value="#{registrationBB.pass}" placeholder="Password*" required="true" 
                                    requiredMessage="Brak hasła"
                                    validatorMessage="hasło musi być co najwyżej 100 znaków">
                            <f:validateLength  maximum="256"/>
                        </p:password>    
                    </div>
                </div>

                <br />
                <h3>Adres</h3>
                <div class="row gtr-uniform">
                    <div class="col-6 col-12-xsmall">
                        <p:inputText id="city" value="#{registrationBB.city}" placeholder="Miasto*" required="true" 
                                     requiredMessage="Brak nazwy miasta"
                                     validatorMessage="Nazwa miasta musi być co najwyżej 100 znaków">
                            <f:validateLength  maximum="100"/>
                        </p:inputText>
                    </div>
                    <div class="col-6 col-12-xsmall">
                        <p:inputText id="postcode" value="#{registrationBB.postcode}" placeholder="Kod pocztowy*" required="true" 
                                     requiredMessage="Brak kodu pocztowego"
                                     validatorMessage="Kod pocztowy ma nieprawidłowy format">
                            <f:validateRegex pattern="^\d{2}-\d{3}$" />
                        </p:inputText>
                    </div>
                    <div class="col-6 col-12-xsmall">
                        <p:inputText id="street" value="#{registrationBB.street}" placeholder="Ulica*" required="true" 
                                    requiredMessage="Brak nazwy ulicy"
                                    validatorMessage="Nazwa ulicy musi być co najwyżej 100 znaków">
                             <f:validateLength  maximum="100"/>
                        </p:inputText>
                    </div>
                    <div class="col-6 col-12-xsmall">
                        <p:inputText id="street_number" value="#{registrationBB.streetNumber}" placeholder="Numer ulicy*" required="true" 
                                     requiredMessage="Brak numeru ulicy"
                                     converterMessage="Numer ulicy misu być liczbą"/>
                    </div>
                    <div class="col-6 col-12-xsmall">
                        <p:inputText id="apartment_number" value="#{registrationBB.apartmentNumber}" placeholder="Numer lokalu" 
                                     converterMessage="Numer lokalu misu być liczbą"/>
                    </div>
                </div>

                <br />
                <div>
                    <span>* — pole jest wymagane</span>
                </div>

                <div class="row gtr-uniform" style="display: grid; width: 100%;">
                    <div>
                        <br />
                        <div style="display: inline-block; width: 100%; padding-left: 0%;">
                            <p:commandButton value="Zarejestruj się"
                                             action="#{registrationBB.registrate()}"
                                             update="@form"
                                             styleClass="primary fit"/>
                        </div>
                        <br />
                        <br />
                        <h:link outcome="/public/login.xhtml"
                                styleClass="button fit">
                            Zaloguj się
                        </h:link>
                    </div>
                </div>
            </h:form>
        </section>
    </ui:define>
</ui:composition>
